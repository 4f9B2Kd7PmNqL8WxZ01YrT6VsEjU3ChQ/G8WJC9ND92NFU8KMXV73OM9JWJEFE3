<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reward Run - Gamified Chores App</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Inter', sans-serif;
min-height: 100vh;
background-image: url('https://img.freepik.com/premium-photo/gamification-website-with-candidate-game-image-playful-d-simple-ideas-web-layout-design_1020495-558336.jpg?semt=ais_hybrid&w=740&q=80');
background-size: cover;
background-position: center;
position: relative;
overflow: hidden;
}

body::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.4);
backdrop-filter: blur(8px);
-webkit-backdrop-filter: blur(8px);
z-index: -1;
}

.container {
width: 90%;
max-width: 400px;
padding: 2rem;
z-index: 1;
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
}

.glass-card {
background: rgba(255, 255, 255, 0.25);
backdrop-filter: blur(10px);
-webkit-backdrop-filter: blur(10px);
border-radius: 20px;
border: 1px solid rgba(255, 255, 255, 0.18);
box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
padding: 2.5rem 1.5rem;
text-align: center;
animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

.app-icon {
width: 100px;
height: 100px;
border-radius: 50%;
object-fit: cover;
margin-bottom: 1.5rem;
box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.title {
margin-bottom: 2.5rem;
}

.welcome-text {
font-family: 'Inter', sans-serif;
font-weight: 600;
font-size: 1.2rem;
color: #fff;
margin-bottom: 0.3rem;
letter-spacing: 0.5px;
}

.app-name {
font-family: 'Press Start 2P', cursive;
font-weight: 700;
font-size: 1.5rem;
color: #FFD700;
text-shadow: 0 0 10px #FFD700, 0 0 20px #FFD700, 0 0 30px #FFD700;
margin-top: 0.5rem;
}

.role-buttons {
display: flex;
gap: 1.5rem;
margin-top: 2rem;
}

.role-btn {
flex: 1;
background: rgba(255, 255, 255, 0.35);
backdrop-filter: blur(5px);
-webkit-backdrop-filter: blur(5px);
border: 1px solid rgba(255, 255, 255, 0.3);
border-radius: 16px;
padding: 1.5rem 1rem;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
cursor: pointer;
transition: all 0.3s ease;
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.role-btn:active {
transform: scale(0.95);
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.role-btn i {
font-size: 2.5rem;
margin-bottom: 0.8rem;
}

.parent-btn i {
color: #4361ee;
}

.child-btn i {
color: #f72585;
}

.role-btn span {
font-family: 'Inter', sans-serif;
font-weight: 600;
font-size: 1.1rem;
color: #fff;
}

.loader-container {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
display: flex;
justify-content: center;
align-items: center;
background: rgba(0, 0, 0, 0.5);
backdrop-filter: blur(5px);
-webkit-backdrop-filter: blur(5px);
z-index: 1000;
}

.loader {
width: 100px;
height: 100px;
border-radius: 50%;
position: relative;
animation: glow 1.5s infinite ease-in-out;
}

.loader:before, .loader:after {
content: '';
position: absolute;
width: 100%;
height: 100%;
border-radius: 50%;
box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
}

.loader:before {
animation: rotate 2s infinite linear;
}

.loader:after {
animation: rotate 2s infinite linear reverse;
}

@keyframes glow {
0%, 100% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.8); }
50% { box-shadow: 0 0 40px rgba(255, 255, 255, 1); }
}

@keyframes rotate {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

.pin-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.6);
backdrop-filter: blur(5px);
-webkit-backdrop-filter: blur(5px);
z-index: 100;
justify-content: center;
align-items: center;
}

.pin-container {
background: rgba(255, 255, 255, 0.9);
backdrop-filter: blur(10px);
-webkit-backdrop-filter: blur(10px);
border-radius: 20px;
padding: 2rem;
width: 90%;
max-width: 350px;
box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
animation: slideUp 0.3s ease-out;
position: relative;
}

@keyframes slideUp {
from { transform: translateY(50px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.pin-title {
font-family: 'Inter', sans-serif;
font-weight: 600;
font-size: 1.5rem;
color: #333;
margin-bottom: 1.5rem;
text-align: center;
}

.pin-display {
display: flex;
justify-content: center;
gap: 10px;
margin-bottom: 1.5rem;
}

.pin-dot {
width: 20px;
height: 20px;
border-radius: 50%;
background: #ddd;
transition: all 0.3s ease;
}

.pin-dot.filled {
background: #4361ee;
animation: popIn 0.3s ease;
}

@keyframes popIn {
0% { transform: scale(0); }
80% { transform: scale(1.2); }
100% { transform: scale(1); }
}

.pin-keypad {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 15px;
margin-bottom: 1rem;
}

.pin-key {
background: rgba(255, 255, 255, 0.7);
border: 1px solid rgba(0, 0, 0, 0.1);
border-radius: 50%;
width: 60px;
height: 60px;
display: flex;
justify-content: center;
align-items: center;
font-family: 'Inter', sans-serif;
font-weight: 600;
font-size: 1.5rem;
color: #333;
cursor: pointer;
transition: all 0.2s ease;
margin: 0 auto;
}

.pin-key:active {
transform: scale(0.9);
background: rgba(67, 97, 238, 0.2);
}

.pin-key.backspace {
background: rgba(247, 37, 133, 0.2);
grid-column: 3;
}

.pin-key.backspace i {
font-size: 1.2rem;
}

.pin-key.zero {
grid-column: 2;
}

.close-btn {
position: absolute;
top: 15px;
right: 15px;
background: none;
border: none;
font-size: 1.5rem;
color: #333;
cursor: pointer;
transition: all 0.2s ease;
}

.close-btn:active {
transform: scale(0.9);
}

.hidden {
display: none !important;
}
</style></head>
<body>
<div class="loader-container" id="loader">
<div class="loader"></div>
</div>

<div class="container">
<div class="glass-card" id="welcomeScreen">
<img src="https://i.ibb.co/4gjb2QY1/b-A-shiny-golden-game.png" alt="Reward Run Icon" class="app-icon">

<div class="title">
<div class="welcome-text">Welcome to</div>
<div class="app-name">Reward Run</div>
</div>

<div class="role-buttons">
<div class="role-btn parent-btn" id="parentBtn">
<i class="fas fa-user-shield"></i>
<span>Parent</span>
</div>
<div class="role-btn child-btn" id="childBtn">
<i class="fas fa-child"></i>
<span>Child</span>
</div>
</div>
</div>
</div>

<div class="pin-modal" id="pinModal">
<div class="pin-container">
<button class="close-btn" id="closePinBtn">
<i class="fas fa-times"></i>
</button>
<div class="pin-title" id="pinTitle">Setup Your PIN</div>
<div class="pin-display">
<div class="pin-dot" id="pin1"></div>
<div class="pin-dot" id="pin2"></div>
<div class="pin-dot" id="pin3"></div>
<div class="pin-dot" id="pin4"></div>
</div>
<div class="pin-keypad">
<div class="pin-key" data-value="1">1</div>
<div class="pin-key" data-value="2">2</div>
<div class="pin-key" data-value="3">3</div>
<div class="pin-key" data-value="4">4</div>
<div class="pin-key" data-value="5">5</div>
<div class="pin-key" data-value="6">6</div>
<div class="pin-key" data-value="7">7</div>
<div class="pin-key" data-value="8">8</div>
<div class="pin-key" data-value="9">9</div>
<div class="pin-key zero" data-value="0">0</div>
<div class="pin-key backspace" id="backspace">
<i class="fas fa-backspace"></i>
</div>
</div>
</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
const isFirstVisit = localStorage.getItem('isFirstVisit');
const userMode = localStorage.getItem('userMode');
const parentPin = localStorage.getItem('parentPin');

if (!isFirstVisit) {
localStorage.setItem('isFirstVisit', 'true');
setTimeout(() => {
document.getElementById('loader').classList.add('hidden');
}, 10000);
} else {
document.getElementById('loader').classList.add('hidden');

if (userMode === 'child') {
window.location.href = 'kid.html';
return;
} else if (userMode === 'parent') {
if (parentPin) {
showPinModal(false);
} else {
showPinModal(true);
}
return;
}
}

let pinInput = '';
let isSetupMode = true;

function showPinModal(isSetup) {
isSetupMode = isSetup;
pinInput = '';
updatePinDisplay();

const modal = document.getElementById('pinModal');
const title = document.getElementById('pinTitle');
const closeBtn = document.getElementById('closePinBtn');

if (isSetup) {
title.textContent = 'Setup Your PIN';
closeBtn.classList.remove('hidden');
} else {
title.textContent = 'Enter Your PIN';
closeBtn.classList.add('hidden');
}

modal.style.display = 'flex';
}

function hidePinModal() {
document.getElementById('pinModal').style.display = 'none';
}

function updatePinDisplay() {
for (let i = 1; i <= 4; i++) {
const dot = document.getElementById(`pin${i}`);
if (i <= pinInput.length) {
dot.classList.add('filled');
} else {
dot.classList.remove('filled');
}
}
}

function handlePinInput(value) {
if (pinInput.length < 4) {
pinInput += value;
updatePinDisplay();

if (pinInput.length === 4) {
setTimeout(() => {
if (isSetupMode) {
localStorage.setItem('parentPin', pinInput);
localStorage.setItem('userMode', 'parent');
window.location.href = 'parent.html';
} else {
const savedPin = localStorage.getItem('parentPin');
if (pinInput === savedPin) {
localStorage.setItem('userMode', 'parent');
window.location.href = 'parent.html';
} else {
document.getElementById('pinTitle').textContent = 'Incorrect PIN. Try again.';
pinInput = '';
updatePinDisplay();
}
}
}, 300);
}
}
}

function handleBackspace() {
if (pinInput.length > 0) {
pinInput = pinInput.substring(0, pinInput.length - 1);
updatePinDisplay();
}
}

document.querySelectorAll('.pin-key:not(.backspace)').forEach(key => {
key.addEventListener('click', function() {
handlePinInput(this.getAttribute('data-value'));
});
});

document.getElementById('backspace').addEventListener('click', handleBackspace);
document.getElementById('closePinBtn').addEventListener('click', hidePinModal);

document.getElementById('parentBtn').addEventListener('click', function() {
const parentPin = localStorage.getItem('parentPin');

if (parentPin) {
showPinModal(false);
} else {
showPinModal(true);
}
});

document.getElementById('childBtn').addEventListener('click', function() {
localStorage.setItem('userMode', 'child');
window.location.href = 'kid.html';
});
});
</script></body>
</html>
